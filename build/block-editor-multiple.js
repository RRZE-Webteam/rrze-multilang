(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.plugins,n=window.wp.element,l=window.wp.editPost,a=window.wp.components,r=window.wp.data,o=window.wp.i18n,i=window.wp.apiFetch;var s=e.n(i);(0,t.registerPlugin)("rrze-multilang-language-panel",{render:function(){const e=(0,r.useSelect)((e=>Object.assign({},e("core/editor").getCurrentPost(),rrzeMultilang.currentPost)));if(-1===rrzeMultilang.localizablePostTypes.indexOf(e.type))return(0,n.createElement)(n.Fragment,null);if("auto-draft"===e.status)return(0,n.createElement)(n.Fragment,null);const[t,i]=(0,n.useState)(e.secondarySitesToLink),[c,u]=(0,n.useState)(e.secondarySitesToCopy);return(0,n.createElement)(l.PluginDocumentSettingPanel,{name:"rrze-multilang-language-panel",title:(0,o.__)("Language","rrze-multilang"),className:"rrze-multilang-language-panel"},(0,n.createElement)((()=>{const l=Object.entries(t).map((([t,l])=>{const i=l.name+" â€” "+l.language,[c,u]=(0,n.useState)(l.selected);return(0,n.createElement)(a.PanelRow,{key:t},(0,n.createElement)(a.SelectControl,{label:i,value:c,options:l.options,onChange:t=>{u(t);const[n,l]=t.split(":");s()({path:`/rrze-multilang/v1/link/${e.id}/blog/${n}/post/${l}`,method:"POST"}).then((e=>{const t=e[l].blogName,n=e[l].postTitle;(0,r.dispatch)("core/notices").createInfoNotice((0,o.__)(`Linked to ${n} on ${t}.`,"rrze-multilang"),{isDismissible:!0,type:"snackbar",speak:!0})}))}}))}));return l.length?l:(0,n.createElement)("em",null,(0,o.__)("There are no websites available for translations.","rrze-multilang"))}),null),(0,n.createElement)((()=>{const t=Object.entries(c).map((([t,l])=>{const[i,g]=(0,n.useState)(t);return(0,n.createElement)("div",{key:t},(0,n.createElement)(a.PanelRow,null,(0,n.createElement)(a.SelectControl,{label:(0,o.__)("Copy To:","rrze-multilang"),value:i,options:l.options,onChange:e=>{g(e)}})),void 0===l.creating?(0,n.createElement)(a.Button,{isSecondary:!0,onClick:()=>(t=>{const n={...c,[t]:{creating:!0}};u(n),s()({path:`/rrze-multilang/v1/copy/${e.id}/blog/${t}`,method:"POST"}).then((e=>{const n={...c,[t]:{blogId:e[t].blogId,blogName:e[t].blogName,creating:!1}};u(n);const l=n[t].blogName;(0,r.dispatch)("core/notices").createInfoNotice((0,o.__)(`A copy has been added to ${l}.`,"rrze-multilang"),{isDismissible:!0,type:"snackbar",speak:!0})}))})(i)},(0,o.__)("Add Copy","rrze-multilang")):l.creating?(0,n.createElement)(a.Spinner,null):null)}));return t.length?t:(0,n.createElement)(n.Fragment,null)}),null))},icon:"translation"})})();